<mat-drawer-container class="flex flex-col w-full">
    <mat-drawer class="w-2/4 dark:bg-gray-900"
                [mode]="'over'"
                [opened]="false"
                [disableClose]="true"
                #matDrawer>
    </mat-drawer>
    
    <mat-drawer-content style="background: #fff;">
        <div class="flex flex-col w-full">
            <div class="relative w-full h-40 sm:h-20 px-8 sm:px-12 bg-accent-100 dark:bg-accent-700">
                <div class="flex items-center w-full max-w-3xl mx-auto pt-2">
                    <div class="mt-3 text-4xl w-full font-bold truncate">Point Range Setting</div>
                </div>
            </div>
            <div class="relative flex flex-col flex-auto items-center px-6 sm:px-12">
                <div class="w-full max-w-3xl">
                    <form [formGroup]="PointRangeEditForm">

                        <div class="mt-8 hidden">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>id</mat-label>
                                <mat-icon matPrefix
                                          class="hidden sm:flex icon-size-5"
                                          [svgIcon]="'heroicons_outline:currency-dollar'"></mat-icon>
                                <input matInput
                                       [formControlName]="'id'"
                                       [placeholder]="'id'">
                            </mat-form-field>
                        </div>
    
                        <div class="mt-8">
                            <div class="mt-3 text_1xl w-full font-bold truncate">Start Date</div>
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>Type</mat-label>
                                <mat-select [formControlName]="'start_type'" [(ngModel)]="startTypeValue">
                                    <mat-option [value]="0">Year</mat-option>
                                    <mat-option [value]="1">Month</mat-option>
                                    <mat-option [value]="2">Current Date</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
    
                        <ng-container *ngIf="startTypeValue === 0 || startTypeValue === 1">
                            <div class="mt-8">
                                <mat-form-field class="fuse-mat-no-subscript w-full">
                                    <mat-label>Day Type</mat-label>
                                    <mat-select [formControlName]="'start_day_type'" [(ngModel)]="startDayTypeValue">
                                        <mat-option [value]="0">None</mat-option>
                                        <mat-option [value]="1">Start of Year</mat-option>
                                        <mat-option [value]="2">Start of Month</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </ng-container>

                        <div class="mt-8">
                            <div class="mt-3 text_1xl w-full font-bold truncate">End Date</div>
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>Type</mat-label>
                                <mat-select [formControlName]="'end_type'">
                                    <mat-option [value]="0">Year</mat-option>
                                    <mat-option [value]="1">Month</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
    
                        <div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>Day Type</mat-label>
                                <mat-select [formControlName]="'end_day_type'">
                                    <mat-option [value]="1">End of Year</mat-option>
                                    <mat-option [value]="2">End of Month</mat-option>
                                    <mat-option [value]="2">Current Date</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>Value</mat-label>
                                <!-- <mat-icon matPrefix
                                          class="hidden sm:flex icon-size-5"
                                          [svgIcon]="'heroicons_outline:currency-dollar'"></mat-icon> -->
                                <input matInput type="number"
                                       [formControlName]="'end_day_value'"
                                       [placeholder]="'Value'">
                            </mat-form-field>
                        </div>
                        
                        <div class="flex items-center justify-end mt-10 -mx-6 sm:-mx-12 py-4 pr-4 pl-1 sm:pr-12 sm:pl-7 border-t bg-gray-50 dark:bg-transparent">
                            <div *ngIf="successMessage" style="color: green">
                                {{ successMessage }}
                            </div>
                            <div *ngIf="errorMessage" style="color: red">
                                {{errorMessage}}
                            </div>
                            <div *ngIf="canEdit">
                                <button class="ml-2" style="width: 6rem;"
                                    mat-flat-button
                                    [disabled]="PointRangeEditForm.invalid"
                                    [color]="'primary'"
                                    [matTooltip]="'Save'"
                                    (click)="updatePointRange()">
                                    Save
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </mat-drawer-content>
</mat-drawer-container>
