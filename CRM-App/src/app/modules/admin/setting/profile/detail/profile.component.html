
    <div class="flex flex-col w-full" style="background:#fff;">
        <ng-container *ngIf="!editProfile && !changePassword">
            <div class="relative w-full px-8 sm:px-12 h-20 bg-accent-100 dark:bg-accent-700">
                <!-- Close button -->
                <div class="flex items-center justify-end  w-full max-w-3xl mx-auto pt-6">
                    <!--<button mat-icon-button
                            [matTooltip]="'Close'"
                            [routerLink]="['../']"
                            (click)="closeDrawer()" style="background:gray;">
                        <mat-icon class="text-white"
                                  [svgIcon]="'heroicons_outline:x'"></mat-icon>
                    </button>-->
                </div>
            </div>
            <div class="relative flex flex-col flex-auto items-center" style="margin-top: -40px;">

                <!-- Header Section -->
                <div class="w-full max-w-3xl">
                    <div class="h-40 grid grid-cols-2">

                        <div class="flex items-start">
                            <div class="flex items-center justify-center w-32 h-32 rounded-full overflow-hidden ring-4 ring-bg-card">
                                <div class="flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                                    {{loginUser.first_name.charAt(0)}}
                                </div>
                            </div>
                        </div>

                        <div class="gap-5">
                            <div class="mt-20 text-2xl font-bold bg-blue-100 text-left rounded-full py-3 px-6 mb-2" (click)="toggleEditProfileMode(true)" style="cursor:pointer;"> <mat-icon [svgIcon]="'heroicons_outline:pencil-alt'"></mat-icon> Edit Profile </div>
                            <!--<div class="text-2xl font-bold bg-blue-100 text-left rounded-full py-3 px-6" (click)="toggleChangePasswordMode(true)" style="cursor:pointer;"> <mat-icon [svgIcon]="'heroicons_outline:key'"></mat-icon> Change Password </div>-->
                        </div>

                    </div>

                    <div class="text-3xl font-bold">
                        Profile Info :
                    </div>
                </div>

                <!-- Body Section -->
                <div class="w-full max-w-3xl">
                    <div class="flex flex-col mt-4 pt-6 space-y-3">
                        <div class="flex sm:items-center">
                            <div class="w-1/4">User Name: </div>
                            <div class="ml-6 leading-6">{{loginUser.username}}</div>
                        </div>
                        <div class="flex sm:items-center">
                            <div class="w-1/4">First Name: </div>
                            <div class="ml-6 leading-6">{{loginUser.first_name}}</div>
                        </div>
                        <div class="flex sm:items-center">
                            <div class="w-1/4">Last Name: </div>
                            <div class="ml-6 leading-6">{{loginUser.last_name}}</div>
                        </div>
                        <div class="flex sm:items-center">
                            <div class="w-1/4">Email: </div>
                            <div class="ml-6 leading-6">{{loginUser.email}}</div>
                        </div>

                    </div>
                </div>

            </div>
        </ng-container>

        <!-- Edit Profile Form-->
        <ng-container *ngIf="editProfile">
            <div class="relative w-full h-40 sm:h-20 px-8 sm:px-12 bg-accent-100 dark:bg-accent-700">
                <div class="flex items-center w-full max-w-3xl mx-auto pt-2">
                    <div class="mt-3 text-4xl w-full font-bold truncate">Edit Profile </div>
                    <button mat-icon-button
                            [matTooltip]="'Close'"
                            (click)="toggleEditProfileMode(false)"
                            style="background:#ccc;">
                        <mat-icon class="text-white"
                                  [svgIcon]="'heroicons_outline:x'"></mat-icon>
                    </button>
                </div>
            </div>
            <div class="relative flex flex-col flex-auto items-center px-6 sm:px-12">
                <div class="w-full max-w-3xl">

                    <!-- Alert -->
                    <fuse-alert class="mt-8 -mb-4"
                                *ngIf="showAlert"
                                [appearance]="'outline'"
                                [showIcon]="false"
                                [type]="alert.type"
                                [@shake]="alert.type === 'error'">
                        {{alert.message}}
                    </fuse-alert>

                    <form [formGroup]="UserEditForm">

                        <div class="mt-8 hidden">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <input matInput
                                       [formControlName]="'id'"
                                       [placeholder]="'id'" />
                            </mat-form-field>
                        </div>

                        <div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full" disabled>
                                <mat-label>User Name</mat-label>
                                <mat-icon matPrefix
                                          class="hidden sm:flex icon-size-5"
                                          [svgIcon]="'heroicons_solid:user-circle'"></mat-icon>
                                <input matInput
                                       [readonly] = "true"
                                       [formControlName]="'username'"
                                       [placeholder]="'username'"
                                       [spellcheck]="false">
                            </mat-form-field>
                        </div>

                        <div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>First Name</mat-label>
                                <mat-icon matPrefix
                                          class="hidden sm:flex icon-size-5"
                                          [svgIcon]="'heroicons_solid:user-circle'"></mat-icon>
                                <input matInput
                                       [formControlName]="'first_name'"
                                       [placeholder]="'first_name'"
                                       [spellcheck]="false">
                            </mat-form-field>
                        </div>

                        <div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>Last Name</mat-label>
                                <mat-icon matPrefix
                                          class="hidden sm:flex icon-size-5"
                                          [svgIcon]="'heroicons_solid:user-circle'"></mat-icon>
                                <input matInput
                                       [formControlName]="'last_name'"
                                       [placeholder]="'last_name'"
                                       [spellcheck]="false">
                            </mat-form-field>
                        </div>

                        <div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>Email</mat-label>
                                <mat-icon matPrefix
                                          class="hidden sm:flex icon-size-5"
                                          svgIcon="heroicons_outline:mail"></mat-icon>
                                <input matInput
                                       [formControlName]="'email'"
                                       [placeholder]="'email'">
                            </mat-form-field>
                        </div>

                        <!--<div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>Password</mat-label>
                                <mat-icon matPrefix
                                        class="hidden sm:flex icon-size-5"
                                        svgIcon="heroicons_outline:key"></mat-icon>
                                <input matInput type="password"
                                    [formControlName]="'password'"
                                    [placeholder]="'password'">
                            </mat-form-field>
                        </div>-->

                        <div class="flex items-center mt-10 -mx-6 sm:-mx-12 py-4 pr-4 pl-1 sm:pr-12 sm:pl-7 border-t bg-gray-50 dark:bg-transparent">
                            <button class="ml-2"
                                    mat-flat-button
                                    [disabled]="UserEditForm.invalid"
                                    [color]="'primary'"
                                    [matTooltip]="'Save'"
                                    (click)="updateUser()">
                                Save
                            </button>
                        </div>

                    </form>
                </div>
            </div>
        </ng-container>


        <!-- Edit Change Password Form -->
        <ng-container *ngIf="changePassword">
            <div class="flex items-center w-full max-w-3xl mx-auto pt-2">
                <div class="mt-3 text-4xl w-full font-bold truncate">Change Password</div>
                <button mat-icon-button
                        [matTooltip]="'Close'"
                        (click)="toggleChangePasswordMode(false)"
                        style="background:#ccc;">
                    <mat-icon class="text-white"
                              [svgIcon]="'heroicons_outline:x'"></mat-icon>
                </button>
            </div>
            <div class="relative flex flex-col flex-auto items-center px-6 sm:px-12">
                <div class="w-full max-w-3xl">
                    <!-- Alert -->
                    <fuse-alert class="mt-8 -mb-4"
                                *ngIf="showAlert"
                                [appearance]="'outline'"
                                [showIcon]="false"
                                [type]="alert.type"
                                [@shake]="alert.type === 'error'">
                        {{alert.message}}
                    </fuse-alert>

                    <form [formGroup]="ChangePasswordForm" #changePasswordNgForm="ngForm">

                        <div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>Current Password</mat-label>
                                <mat-icon matPrefix
                                          class="hidden sm:flex icon-size-5"
                                          svgIcon="heroicons_outline:key"></mat-icon>
                                <input matInput type="password"
                                       [formControlName]="'currentPassword'"
                                       [placeholder]="'Current Password'">
                            </mat-form-field>
                        </div>
                        <div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>New Password</mat-label>
                                <mat-icon matPrefix
                                          class="hidden sm:flex icon-size-5"
                                          svgIcon="heroicons_outline:key"></mat-icon>
                                <input matInput type="password"
                                       [formControlName]="'newPassword'"
                                       [placeholder]="'New Password'">
                            </mat-form-field>
                        </div>
                        <div class="mt-8">
                            <mat-form-field class="fuse-mat-no-subscript w-full">
                                <mat-label>Confirm Password</mat-label>
                                <mat-icon matPrefix
                                          class="hidden sm:flex icon-size-5"
                                          svgIcon="heroicons_outline:key"></mat-icon>
                                <input matInput type="password"
                                       [formControlName]="'confirmPassword'"
                                       [placeholder]="'Confirm Password'">
                            </mat-form-field>
                        </div>

                        <div class="mt-8">
                            <mat-error *ngIf="ChangePasswordForm.get('confirmPassword').hasError('mustMatch')">
                                New password and Confrim password must match
                            </mat-error>
                        </div>

                        <div class="flex items-center mt-10 -mx-6 sm:-mx-12 py-4 pr-4 pl-1 sm:pr-12 sm:pl-7 border-t bg-gray-50 dark:bg-transparent">
                            <button class="ml-2"
                                    mat-flat-button
                                    [disabled]="ChangePasswordForm.invalid"
                                    [color]="'primary'"
                                    [matTooltip]="'Save'"
                                    (click)="changeUserPassword()">
                                Save
                            </button>
                        </div>

                    </form>
                </div>
            </div>
        </ng-container>
    </div>

